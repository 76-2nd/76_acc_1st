<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.seoulit.account.posting.ledger.mapper.AssistantLedgerMapper">

    <select id="selectAssetItemList" parameterType="String"
            resultType="kr.co.seoulit.account.posting.ledger.entity.AssetItemEntity">
			<![CDATA[
        SELECT ASSET_ITEM_CODE                                                                         AS assetItemCode,
               ASSET_ITEM_NAME                                                                         AS assetItemName,
               ACQUISITION_DATE                                                                        AS acquisitionDate,
               ACQUISITION_AMOUNT                                                                      AS acquisitionAmount,
               TO_char(SYSDATE, 'yyyy') - SUBSTR(ACQUISITION_DATE, 0, 4)                               AS usefulLift,
               MANAGEMENT_DEPT_NAME                                                                    AS manageMentDeptName,
               PARENTS_CODE                                                                            AS parentsCode,
               PARENTS_NAME                                                                            AS parentsName,
               (ACQUISITION_AMOUNT / 10) *
               (TO_char(SYSDATE, 'yyyy') - SUBSTR(ACQUISITION_DATE, 0, 4))                             AS accumulatedDepreciation,
               ACQUISITION_AMOUNT -
               (ACQUISITION_AMOUNT / 10) * (TO_char(SYSDATE, 'yyyy') - SUBSTR(ACQUISITION_DATE, 0, 4)) AS residualValue
        FROM ASSET_ITEM
        WHERE PARENTS_CODE = #{parentsCode}
        ORDER BY ASSET_ITEM_CODE
        ]]>
	</select>

</mapper>